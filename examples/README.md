This directory serves as a demo of how you can run individual components of pace in a parallel Jupyter notebook.
The component demonstrated is tracer advection, and mirrors the setup of test case 1 in fv3gfs-fortran and corresponds to cosine bell advection.

Note that this proof-of-concept example is only running the tracer advection and none of the other model components.

The `notebooks` directory contains a helper `functions.py` file and a few notebooks:
- `domain_decomposition_grid_generation.ipynb`: focuses on how to set up a domain and create tools for individual component creation.
- `initial_condition_definition.ipynb`: focuses on how to set up initial conditions on the cubed sphere.
- ??`building_stencils.ipynb`???: focuses on how to initialize and run stencils (short?)
- `tracer_advection.ipynb`: the high-level notebook that has everything set up for cosine bell advection.


## Run from Docker

This example builds an MPI-enabled Docker image by adding jupyter notebooks to the pace image and opens it with port forwarding.
You can build this image from within the `examples` directory with:
```
$ docker build -t examples -f Dockerfile ..
```
and then open the notebook by running:
```
$ docker run -p 8888:8888 examples
```

You should see output that looks something like:
```
    To access the notebook, open this file in a browser:
        file:///root/.local/share/jupyter/runtime/nbserver-1-open.html
    Or copy and paste one of these URLs:
        http://67992777e8d0:8888/?token=c229b0f42a4bed38c9762931e0cc9d606f0fb9d4bf6a5b5f
     or http://127.0.0.1:8888/?token=c229b0f42a4bed38c9762931e0cc9d606f0fb9d4bf6a5b5f
```

To use the notebook, you need to copy-paste the last URL generated by docker run into your browser.
